#include <SFML/Graphics.hpp>
#include <box2d/box2d.h>

int main() {
    // SFML Setup
    sf::RenderWindow window(sf::VideoMode(800, 600), "Box2D + SFML Test");
    

    // Main Loop
    while (window.isOpen()) {
        sf::Event event;
        while (window.pollEvent(event)) {
            if (event.type == sf::Event::Closed)
                window.close();
        }

        // Box2D Simulation Step
        float timeStep = 1.0f / 60.0f; // 60 FPS
        int32 velocityIterations = 6;
        int32 positionIterations = 2;
        world.Step(timeStep, velocityIterations, positionIterations);

        // Update Box Position
        b2Vec2 position = dynamicBody->GetPosition();
        boxRect.setPosition(position.x * 40.0f + 400.0f, 600.0f - position.y * 40.0f); // Scale and translate to screen

        // Rendering
        window.clear();
        window.draw(groundRect);
        window.draw(boxRect);
        window.display();
    }

    return 0;
}
